import{u as Fe,a as Pe,r as ce,c as De,o as Me,b as B,d as H,e as s,w as X,v as qe,f as ie,t as A,g as ye,F as be,h as Ee,n as Ae,i as Le,j as Se}from"./index-01f561e4.js";const je="/observatorio2023/images/app/orfeo.png",Ue="/observatorio2023/images/app/logo-dogcc-yellow.png";var Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(Y){return Y&&Y.__esModule&&Object.prototype.hasOwnProperty.call(Y,"default")?Y.default:Y}var ze={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(Y,Re){(function(de,g){Y.exports=g()})(Ne,function de(){var g=typeof self<"u"?self:typeof window<"u"?window:g!==void 0?g:{},$=!g.document&&!!g.postMessage,J=g.IS_PAPA_WORKER||!1,ae={},ke=0,u={parse:function(t,e){var n=(e=e||{}).dynamicTyping||!1;if(f(n)&&(e.dynamicTypingFunction=n,n={}),e.dynamicTyping=n,e.transform=!!f(e.transform)&&e.transform,e.worker&&u.WORKERS_SUPPORTED){var r=function(){if(!u.WORKERS_SUPPORTED)return!1;var d=(L=g.URL||g.webkitURL||null,C=de.toString(),u.BLOB_URL||(u.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))),h=new g.Worker(d),L,C;return h.onmessage=Ie,h.id=ke++,ae[h.id]=h}();return r.userStep=e.step,r.userChunk=e.chunk,r.userComplete=e.complete,r.userError=e.error,e.step=f(e.step),e.chunk=f(e.chunk),e.complete=f(e.complete),e.error=f(e.error),delete e.worker,void r.postMessage({input:t,config:e,workerId:r.id})}var i=null;return u.NODE_STREAM_INPUT,typeof t=="string"?(t=function(d){return d.charCodeAt(0)===65279?d.slice(1):d}(t),i=e.download?new ee(e):new oe(e)):t.readable===!0&&f(t.read)&&f(t.on)?i=new fe(e):(g.File&&t instanceof File||t instanceof Object)&&(i=new he(e)),i.stream(t)},unparse:function(t,e){var n=!1,r=!0,i=",",d=`\r
`,h='"',L=h+h,C=!1,o=null,I=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||u.BAD_DELIMITERS.filter(function(a){return e.delimiter.indexOf(a)!==-1}).length||(i=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(n=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(C=e.skipEmptyLines),typeof e.newline=="string"&&(d=e.newline),typeof e.quoteChar=="string"&&(h=e.quoteChar),typeof e.header=="boolean"&&(r=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");o=e.columns}e.escapeChar!==void 0&&(L=e.escapeChar+h),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(I=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var c=new RegExp(te(h),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return K(null,t,C);if(typeof t[0]=="object")return K(o||Object.keys(t[0]),t,C)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||o),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),K(t.fields||[],t.data||[],C);throw new Error("Unable to serialize unrecognized input");function K(a,y,P){var E="";typeof a=="string"&&(a=JSON.parse(a)),typeof y=="string"&&(y=JSON.parse(y));var S=Array.isArray(a)&&0<a.length,R=!Array.isArray(y[0]);if(S&&r){for(var T=0;T<a.length;T++)0<T&&(E+=i),E+=F(a[T],T);0<y.length&&(E+=d)}for(var l=0;l<y.length;l++){var p=S?a.length:y[l].length,k=!1,O=S?Object.keys(y[l]).length===0:y[l].length===0;if(P&&!S&&(k=P==="greedy"?y[l].join("").trim()==="":y[l].length===1&&y[l][0].length===0),P==="greedy"&&S){for(var v=[],M=0;M<p;M++){var x=R?a[M]:M;v.push(y[l][x])}k=v.join("").trim()===""}if(!k){for(var m=0;m<p;m++){0<m&&!O&&(E+=i);var W=S&&R?a[m]:m;E+=F(y[l][W],m)}l<y.length-1&&(!P||0<p&&!O)&&(E+=d)}}return E}function F(a,y){if(a==null)return"";if(a.constructor===Date)return JSON.stringify(a).slice(1,25);var P=!1;I&&typeof a=="string"&&I.test(a)&&(a="'"+a,P=!0);var E=a.toString().replace(c,L);return(P=P||n===!0||typeof n=="function"&&n(a,y)||Array.isArray(n)&&n[y]||function(S,R){for(var T=0;T<R.length;T++)if(-1<S.indexOf(R[T]))return!0;return!1}(E,u.BAD_DELIMITERS)||-1<E.indexOf(i)||E.charAt(0)===" "||E.charAt(E.length-1)===" ")?h+E+h:E}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!$&&!!g.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=ve,u.ParserHandle=ge,u.NetworkStreamer=ee,u.FileStreamer=he,u.StringStreamer=oe,u.ReadableStreamStreamer=fe,g.jQuery){var b=g.jQuery;b.fn.parse=function(t){var e=t.config||{},n=[];return this.each(function(d){if(!(b(this).prop("tagName").toUpperCase()==="INPUT"&&b(this).attr("type").toLowerCase()==="file"&&g.FileReader)||!this.files||this.files.length===0)return!0;for(var h=0;h<this.files.length;h++)n.push({file:this.files[h],inputElem:this,instanceConfig:b.extend({},e)})}),r(),this;function r(){if(n.length!==0){var d,h,L,C,o=n[0];if(f(t.before)){var I=t.before(o.file,o.inputElem);if(typeof I=="object"){if(I.action==="abort")return d="AbortError",h=o.file,L=o.inputElem,C=I.reason,void(f(t.error)&&t.error({name:d},h,L,C));if(I.action==="skip")return void i();typeof I.config=="object"&&(o.instanceConfig=b.extend(o.instanceConfig,I.config))}else if(I==="skip")return void i()}var c=o.instanceConfig.complete;o.instanceConfig.complete=function(K){f(c)&&c(K,o.file,o.inputElem),i()},u.parse(o.file,o.instanceConfig)}else f(t.complete)&&t.complete()}function i(){n.splice(0,1),r()}}}function z(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var n=pe(e);n.chunkSize=parseInt(n.chunkSize),e.step||e.chunk||(n.chunkSize=null),this._handle=new ge(n),(this._handle.streamer=this)._config=n}).call(this,t),this.parseChunk=function(e,n){if(this.isFirstChunk&&f(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);r!==void 0&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var d=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var h=d.meta.cursor;this._finished||(this._partialLine=i.substring(h-this._baseIndex),this._baseIndex=h),d&&d.data&&(this._rowCount+=d.data.length);var L=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(J)g.postMessage({results:d,workerId:u.WORKER_ID,finished:L});else if(f(this._config.chunk)&&!n){if(this._config.chunk(d,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);d=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(d.data),this._completeResults.errors=this._completeResults.errors.concat(d.errors),this._completeResults.meta=d.meta),this._completed||!L||!f(this._config.complete)||d&&d.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||d&&d.meta.paused||this._nextChunk(),d}this._halted=!0},this._sendError=function(e){f(this._config.error)?this._config.error(e):J&&this._config.error&&g.postMessage({workerId:u.WORKER_ID,error:e,finished:!1})}}function ee(t){var e;(t=t||{}).chunkSize||(t.chunkSize=u.RemoteChunkSize),z.call(this,t),this._nextChunk=$?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(n){this._input=n,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),$||(e.onload=Q(this._chunkLoaded,this),e.onerror=Q(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!$),this._config.downloadRequestHeaders){var n=this._config.downloadRequestHeaders;for(var r in n)e.setRequestHeader(r,n[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send(this._config.downloadRequestBody)}catch(d){this._chunkError(d.message)}$&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(n){var r=n.getResponseHeader("Content-Range");return r===null?-1:parseInt(r.substring(r.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(n){var r=e.statusText||n;this._sendError(new Error(r))}}function he(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=u.LocalChunkSize),z.call(this,t);var r=typeof FileReader<"u";this.stream=function(i){this._input=i,n=i.slice||i.webkitSlice||i.mozSlice,r?((e=new FileReader).onload=Q(this._chunkLoaded,this),e.onerror=Q(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var i=this._input;if(this._config.chunkSize){var d=Math.min(this._start+this._config.chunkSize,this._input.size);i=n.call(i,this._start,d)}var h=e.readAsText(i,this._config.encoding);r||this._chunkLoaded({target:{result:h}})},this._chunkLoaded=function(i){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(i.target.result)},this._chunkError=function(){this._sendError(e.error)}}function oe(t){var e;z.call(this,t=t||{}),this.stream=function(n){return e=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n,r=this._config.chunkSize;return r?(n=e.substring(0,r),e=e.substring(r)):(n=e,e=""),this._finished=!e,this.parseChunk(n)}}}function fe(t){z.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){z.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){z.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(i){this._input=i,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=Q(function(i){try{e.push(typeof i=="string"?i:i.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(d){this._streamError(d)}},this),this._streamError=Q(function(i){this._streamCleanUp(),this._sendError(i)},this),this._streamEnd=Q(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ge(t){var e,n,r,i=Math.pow(2,53),d=-i,h=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,L=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,C=this,o=0,I=0,c=!1,K=!1,F=[],a={data:[],errors:[],meta:{}};if(f(t.step)){var y=t.step;t.step=function(l){if(a=l,S())E();else{if(E(),a.data.length===0)return;o+=l.data.length,t.preview&&o>t.preview?n.abort():(a.data=a.data[0],y(a,C))}}}function P(l){return t.skipEmptyLines==="greedy"?l.join("").trim()==="":l.length===1&&l[0].length===0}function E(){return a&&r&&(T("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines&&(a.data=a.data.filter(function(l){return!P(l)})),S()&&function(){if(!a)return;function l(k,O){f(t.transformHeader)&&(k=t.transformHeader(k,O)),F.push(k)}if(Array.isArray(a.data[0])){for(var p=0;S()&&p<a.data.length;p++)a.data[p].forEach(l);a.data.splice(0,1)}else a.data.forEach(l)}(),function(){if(!a||!t.header&&!t.dynamicTyping&&!t.transform)return a;function l(k,O){var v,M=t.header?{}:[];for(v=0;v<k.length;v++){var x=v,m=k[v];t.header&&(x=v>=F.length?"__parsed_extra":F[v]),t.transform&&(m=t.transform(m,x)),m=R(x,m),x==="__parsed_extra"?(M[x]=M[x]||[],M[x].push(m)):M[x]=m}return t.header&&(v>F.length?T("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+v,I+O):v<F.length&&T("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+v,I+O)),M}var p=1;return!a.data.length||Array.isArray(a.data[0])?(a.data=a.data.map(l),p=a.data.length):a.data=l(a.data,0),t.header&&a.meta&&(a.meta.fields=F),I+=p,a}()}function S(){return t.header&&F.length===0}function R(l,p){return k=l,t.dynamicTypingFunction&&t.dynamicTyping[k]===void 0&&(t.dynamicTyping[k]=t.dynamicTypingFunction(k)),(t.dynamicTyping[k]||t.dynamicTyping)===!0?p==="true"||p==="TRUE"||p!=="false"&&p!=="FALSE"&&(function(O){if(h.test(O)){var v=parseFloat(O);if(d<v&&v<i)return!0}return!1}(p)?parseFloat(p):L.test(p)?new Date(p):p===""?null:p):p;var k}function T(l,p,k,O){var v={type:l,code:p,message:k};O!==void 0&&(v.row=O),a.errors.push(v)}this.parse=function(l,p,k){var O=t.quoteChar||'"';if(t.newline||(t.newline=function(x,m){x=x.substring(0,1048576);var W=new RegExp(te(m)+"([^]*?)"+te(m),"gm"),q=(x=x.replace(W,"")).split("\r"),V=x.split(`
`),G=1<V.length&&V[0].length<q[0].length;if(q.length===1||G)return`
`;for(var j=0,w=0;w<q.length;w++)q[w][0]===`
`&&j++;return j>=q.length/2?`\r
`:"\r"}(l,O)),r=!1,t.delimiter)f(t.delimiter)&&(t.delimiter=t.delimiter(l),a.meta.delimiter=t.delimiter);else{var v=function(x,m,W,q,V){var G,j,w,D;V=V||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var le=0;le<V.length;le++){var _=V[le],_e=0,Z=0,ue=0;w=void 0;for(var ne=new ve({comments:q,delimiter:_,newline:m,preview:10}).parse(x),re=0;re<ne.data.length;re++)if(W&&P(ne.data[re]))ue++;else{var se=ne.data[re].length;Z+=se,w!==void 0?0<se&&(_e+=Math.abs(se-w),w=se):w=se}0<ne.data.length&&(Z/=ne.data.length-ue),(j===void 0||_e<=j)&&(D===void 0||D<Z)&&1.99<Z&&(j=_e,G=_,D=Z)}return{successful:!!(t.delimiter=G),bestDelimiter:G}}(l,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);v.successful?t.delimiter=v.bestDelimiter:(r=!0,t.delimiter=u.DefaultDelimiter),a.meta.delimiter=t.delimiter}var M=pe(t);return t.preview&&t.header&&M.preview++,e=l,n=new ve(M),a=n.parse(e,p,k),E(),c?{meta:{paused:!0}}:a||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,n.abort(),e=f(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){C.streamer._halted?(c=!1,C.streamer.parseChunk(e,!0)):setTimeout(C.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,n.abort(),a.meta.aborted=!0,f(t.complete)&&t.complete(a),e=""}}function te(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ve(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,d=t.step,h=t.preview,L=t.fastMode,C=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(C=t.escapeChar),(typeof n!="string"||-1<u.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");i===!0?i="#":(typeof i!="string"||-1<u.BAD_DELIMITERS.indexOf(i))&&(i=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var o=0,I=!1;this.parse=function(c,K,F){if(typeof c!="string")throw new Error("Input must be a string");var a=c.length,y=n.length,P=r.length,E=i.length,S=f(d),R=[],T=[],l=[],p=o=0;if(!c)return U();if(t.header&&!K){var k=c.split(r)[0].split(n),O=[],v={},M=!1;for(var x in k){var m=k[x];f(t.transformHeader)&&(m=t.transformHeader(m,x));var W=m,q=v[m]||0;for(0<q&&(M=!0,W=m+"_"+q),v[m]=q+1;O.includes(W);)W=W+"_"+q;O.push(W)}if(M){var V=c.split(r);V[0]=O.join(n),c=V.join(r)}}if(L||L!==!1&&c.indexOf(e)===-1){for(var G=c.split(r),j=0;j<G.length;j++){if(l=G[j],o+=l.length,j!==G.length-1)o+=r.length;else if(F)return U();if(!i||l.substring(0,E)!==i){if(S){if(R=[],ue(l.split(n)),Ce(),I)return U()}else ue(l.split(n));if(h&&h<=j)return R=R.slice(0,h),U(!0)}}return U()}for(var w=c.indexOf(n,o),D=c.indexOf(r,o),le=new RegExp(te(C)+te(e),"g"),_=c.indexOf(e,o);;)if(c[o]!==e)if(i&&l.length===0&&c.substring(o,o+E)===i){if(D===-1)return U();o=D+P,D=c.indexOf(r,o),w=c.indexOf(n,o)}else if(w!==-1&&(w<D||D===-1))l.push(c.substring(o,w)),o=w+y,w=c.indexOf(n,o);else{if(D===-1)break;if(l.push(c.substring(o,D)),se(D+P),S&&(Ce(),I))return U();if(h&&R.length>=h)return U(!0)}else for(_=o,o++;;){if((_=c.indexOf(e,_+1))===-1)return F||T.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:o}),re();if(_===a-1)return re(c.substring(o,_).replace(le,e));if(e!==C||c[_+1]!==C){if(e===C||_===0||c[_-1]!==C){w!==-1&&w<_+1&&(w=c.indexOf(n,_+1)),D!==-1&&D<_+1&&(D=c.indexOf(r,_+1));var _e=ne(D===-1?w:Math.min(w,D));if(c.substr(_+1+_e,y)===n){l.push(c.substring(o,_).replace(le,e)),c[o=_+1+_e+y]!==e&&(_=c.indexOf(e,o)),w=c.indexOf(n,o),D=c.indexOf(r,o);break}var Z=ne(D);if(c.substring(_+1+Z,_+1+Z+P)===r){if(l.push(c.substring(o,_).replace(le,e)),se(_+1+Z+P),w=c.indexOf(n,o),_=c.indexOf(e,o),S&&(Ce(),I))return U();if(h&&R.length>=h)return U(!0);break}T.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:o}),_++}}else _++}return re();function ue(N){R.push(N),p=o}function ne(N){var Te=0;if(N!==-1){var xe=c.substring(_+1,N);xe&&xe.trim()===""&&(Te=xe.length)}return Te}function re(N){return F||(N===void 0&&(N=c.substring(o)),l.push(N),o=a,ue(l),S&&Ce()),U()}function se(N){o=N,ue(l),l=[],D=c.indexOf(r,o)}function U(N){return{data:R,errors:T,meta:{delimiter:n,linebreak:r,aborted:I,truncated:!!N,cursor:p+(K||0)}}}function Ce(){d(U()),R=[],T=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return o}}function Ie(t){var e=t.data,n=ae[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,we(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:me,resume:me};if(f(n.userStep)){for(var d=0;d<e.results.data.length&&(n.userStep({data:e.results.data[d],errors:e.results.errors,meta:e.results.meta},i),!r);d++);delete e.results}else f(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&we(e.workerId,e.results)}function we(t,e){var n=ae[t];f(n.userComplete)&&n.userComplete(e),n.terminate(),delete ae[t]}function me(){throw new Error("Not implemented.")}function pe(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=pe(t[n]);return e}function Q(t,e){return function(){t.apply(e,arguments)}}function f(t){return typeof t=="function"}return J&&(g.onmessage=function(t){var e=t.data;if(u.WORKER_ID===void 0&&e&&(u.WORKER_ID=e.workerId),typeof e.input=="string")g.postMessage({workerId:u.WORKER_ID,results:u.parse(e.input,e.config),finished:!0});else if(g.File&&e.input instanceof File||e.input instanceof Object){var n=u.parse(e.input,e.config);n&&g.postMessage({workerId:u.WORKER_ID,results:n,finished:!0})}}),(ee.prototype=Object.create(z.prototype)).constructor=ee,(he.prototype=Object.create(z.prototype)).constructor=he,(oe.prototype=Object.create(oe.prototype)).constructor=oe,(fe.prototype=Object.create(z.prototype)).constructor=fe,u})})(ze);var He=ze.exports;const Oe=Be(He);const Ke={key:0,class:"text-center"},We=s("div",{class:"spinner-border text-secondary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),Qe=[We],Ve={key:1,class:"container"},$e=s("h1",{class:"text-center"},"Plan Anual de Investigaciones 2023 217",-1),Je={class:"mb-2 d-flex justify-content-center"},Ge={class:"input-group me-2",style:{"max-width":"320px"}},Ze=s("i",{class:"fas fa-times"},null,-1),Xe=[Ze],Ye={class:"text-center my-2"},et={class:"text-primary"},tt={class:"text-center my-2"},nt={class:"text-primary"},rt={class:"d-flex mb-2 justify-content-center"},st={class:""},it=["onClick","title"],at={class:"table bg-white"},ot=s("thead",null,[s("tr",null,[s("th",null,"Núm"),s("th",{class:"only-lg"},"Solicitante"),s("th",null,"Investigación")])],-1),lt={class:"text-center"},ut={class:"only-lg"},ct=s("br",null,null,-1),dt=["onClick"],ht=s("br",null,null,-1),ft={class:"only-lg"},pt={class:"progress d-none",style:{height:"2px"}},_t=s("i",{class:"fa-solid fa-arrow-left"},null,-1),gt={class:"center_box_800"},vt={class:"progress mb-2"},mt={class:"ficha shadow mb-3"},yt={class:"ficha-header d-flex justify-content-between"},bt={style:{"border-left":"3em solid #ffb80c","margin-left":"3em"},class:"p-2"},kt=s("img",{class:"logo-orfeo",src:je,alt:"Logo Orfeo"},null,-1),wt=s("strong",null,"Orfeo",-1),Ct=s("br",null,null,-1),Et={title:"Expediente documental en Orfeo"},It=s("div",{class:"p-2 only-lg"},[s("img",{class:"logo-dogcc",src:Ue,alt:"Logo Observatorio de Cultura"})],-1),xt={class:"ficha-body"},Dt={class:"row"},Ot={class:"col-md-6"},Rt={class:"title"},Tt={class:"col-md-6"},At={key:0},Lt={width:"65px",class:"text-center"},St=["title"],zt=["href"],Ft=["innerHTML"],Pt=["href"],Mt=s("br",null,null,-1),qt=s("td",null,null,-1),jt={key:0,class:"center_box_800"},Ut=s("h3",{class:"text-center"},"Datos clave",-1),Nt=s("p",{class:"text-center"},"Hallazgos destacados como resultado de la investigación",-1),Bt={class:"table bg-white"},Ht={class:"hallazgo-number"},Wt={__name:"Investigaciones",setup(Y){const Re=Fe(),de=Pe();let g=0;const $=ce(!1),J=ce([]),ae=ce([]),ke=ce([]),u=ce("table"),b=ce({ID:-1,Código:"-",Título:"-",Descripción:"-"}),z=ce({q:"",entidad:""}),ee=t=>"https://jmojedap.github.io/observatorio/data/pai_"+t+".csv",he=()=>{Oe.parse(ee("investigaciones"),{download:!0,header:!0,complete:t=>{J.value=t.data}})},oe=()=>{Oe.parse(ee("productos"),{download:!0,header:!0,complete:t=>{ae.value=t.data}})},fe=()=>{Oe.parse(ee("hallazgos"),{download:!0,header:!0,complete:t=>{ke.value=t.data,$.value=!1,console.log($.value),de.params.id>0&&te()}})},ge=t=>{g=t;const e={...de.params,id:g};Re.push({name:de.name,params:e}),te()},te=()=>{console.log(g),b.value=J.value.find(t=>t.ID==g),u.value="details"},ve=()=>{u.value="table"},Ie=()=>{u.value="table"},we=t=>{let e=[];return e["Informe final"]="fa-solid fa-file-lines producto-pdf",e["Informe cuantitativo"]="fa-solid fa-file-lines producto-cuantitativo",e["Base de datos"]="fa-solid fa-table producto-db",e.Presentación="fa-solid fa-display producto-presentacion",e.Anexo="fa-solid fa-file producto-general",e["Visualización/Infografía"]="fa-solid fa-chart-simple producto-dataviz",e.Audiovisual="fa-solid fa-circle-play producto-audiovisual",'<i class="'+e[t]+'"></i>'},me=t=>{let e="status-nd";return t.Estado=="Sin iniciar"&&(e="status-sin-iniciar"),t.Estado=="En espera"&&(e="status-en-espera"),t.Estado=="En ejecución"&&(e="status-en-ejecucion"),t.Estado=="Finalizada"&&(e="status-finalizada"),t.ID==b.value.ID&&(e+=" active"),e},pe=De(()=>J.value.filter(e=>{const n=e.Código.toLowerCase().includes(z.value.q.toLowerCase()),r=e.Título.toLowerCase().includes(z.value.q.toLowerCase()),i=e.Descripción.toLowerCase().includes(z.value.q.toLowerCase());return n||r||i})),Q=De(()=>ae.value.filter(e=>e["ID Investigación"]==b.value.ID&&e.Orden>0)),f=De(()=>ke.value.filter(e=>e["ID Investigación"]==b.value.ID));return Me(()=>{he(),oe(),fe()}),(t,e)=>$.value?(B(),H("div",Ke,Qe)):(B(),H("div",Ve,[$e,s("div",Je,[s("div",Ge,[X(s("input",{type:"text",name:"q","onUpdate:modelValue":e[0]||(e[0]=n=>z.value.q=n),class:"form-control",placeholder:"Buscar",autofocus:"",onChange:Ie},null,544),[[qe,z.value.q]])]),s("button",{class:"btn-delete-search",type:"button",onClick:e[1]||(e[1]=n=>z.value.q="")},Xe)]),X(s("div",Ye,[s("span",et,A(pe.value.length),1),ye(" de "+A(J.value.length),1)],512),[[ie,u.value=="table"]]),X(s("div",tt,[ye(" ID Investigación · "),s("strong",nt,A(b.value.ID),1)],512),[[ie,u.value=="details"]]),s("div",rt,[s("div",st,[(B(!0),H(be,null,Ee(J.value,(n,r)=>(B(),H("button",{type:"button",class:Se(["investigacion-sqr me-1",me(n)]),key:r,onClick:i=>ge(n.ID),title:n.Código},null,10,it))),128))])]),X(s("table",at,[ot,s("tbody",null,[(B(!0),H(be,null,Ee(pe.value,(n,r)=>(B(),H("tr",{key:r},[s("td",lt,A(n.ID),1),s("td",ut,[ye(A(n.ENTIDAD)+" ",1),ct,ye(" "+A(n["Dirección/Dependencia"]),1)]),s("td",null,[s("a",{type:"button",class:"investigacion-title",onClick:i=>ge(n.ID)},A(n.Código),9,dt),ht,s("span",{class:Se(["badge",me(n)])},A(n.Estado),3),s("p",ft,A(n["Objetivo de la investigación"]),1),s("div",pt,[s("div",{class:"progress-bar",role:"progressbar",style:Ae("width: "+n["Porcentaje de avance"]),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),128))])],512),[[ie,u.value=="table"]]),X(s("div",null,[s("button",{type:"button",class:"btn btn-light mb-2",onClick:ve},[_t,ye(" Tabla ")]),s("div",gt,[s("div",vt,[s("div",{class:"progress-bar",role:"progressbar",style:Ae("width: "+b.value["Porcentaje de avance"]),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},A(b.value["Porcentaje de avance"]),5)])]),s("div",mt,[s("div",yt,[s("div",bt,[kt,wt,Ct,s("span",Et,A(b.value.EXPEDIENTE),1)]),It]),s("div",xt,[s("div",Dt,[s("div",Ot,[s("h3",Rt,[X(s("span",null,A(b.value.Código),513),[[ie,b.value.Título.length==0]]),X(s("span",null,A(b.value.Título),513),[[ie,b.value.Título.length>0]])]),X(s("p",null,A(b.value["Objetivo de la investigación"]),513),[[ie,b.value.Descripción.length==0]]),X(s("p",null,A(b.value.Descripción),513),[[ie,b.value.Descripción.length>0]])]),s("div",Tt,[s("table",null,[s("tbody",null,[(B(!0),H(be,null,Ee(Q.value,(n,r)=>(B(),H(be,{key:r},[b.value.ID==n["ID Investigación"]?(B(),H("tr",At,[s("td",Lt,[s("div",{class:"icon-container",title:n["Tipo producto"]},[s("a",{href:n["Link para ficha"],target:"_blank"},[s("span",{innerHTML:we(n["Tipo producto"])},null,8,Ft)],8,zt)],8,St)]),s("td",null,[s("a",{href:n["Link para ficha"],target:"_blank"},A(n.Título),9,Pt),Mt]),qt])):Le("",!0)],64))),128))])])])])])]),f.value.length>0?(B(),H("div",jt,[Ut,Nt,s("table",Bt,[s("tbody",null,[(B(!0),H(be,null,Ee(f.value,(n,r)=>(B(),H("tr",{key:r},[s("td",Ht,A(r+1),1),s("td",null,A(n["Texto hallazgo"]),1)]))),128))])])])):Le("",!0)],512),[[ie,u.value=="details"]])]))}};export{Wt as default};
