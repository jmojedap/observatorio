import{u as Fe,a as Pe,r as ce,c as De,o as Me,b as B,d as H,e as s,w as Y,v as qe,f as ie,t as A,g as ve,F as me,h as Ee,n as Ae,i as Le,j as Se}from"./index-66fea10f.js";const je="/observatorio2023/images/app/orfeo.png",Ue="/observatorio2023/images/app/logo-dogcc-yellow.png";var Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(Z){return Z&&Z.__esModule&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z}var ze={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(Z,Re){(function(de,v){Z.exports=v()})(Ne,function de(){var v=typeof self<"u"?self:typeof window<"u"?window:v!==void 0?v:{},ae=!v.document&&!!v.postMessage,he=v.IS_PAPA_WORKER||!1,$={},ye=0,d={parse:function(t,e){var n=(e=e||{}).dynamicTyping||!1;if(p(n)&&(e.dynamicTypingFunction=n,n={}),e.dynamicTyping=n,e.transform=!!p(e.transform)&&e.transform,e.worker&&d.WORKERS_SUPPORTED){var r=function(){if(!d.WORKERS_SUPPORTED)return!1;var u=(L=v.URL||v.webkitURL||null,C=de.toString(),d.BLOB_URL||(d.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))),h=new v.Worker(u),L,C;return h.onmessage=xe,h.id=ye++,$[h.id]=h}();return r.userStep=e.step,r.userChunk=e.chunk,r.userComplete=e.complete,r.userError=e.error,e.step=p(e.step),e.chunk=p(e.chunk),e.complete=p(e.complete),e.error=p(e.error),delete e.worker,void r.postMessage({input:t,config:e,workerId:r.id})}var i=null;return d.NODE_STREAM_INPUT,typeof t=="string"?(t=function(u){return u.charCodeAt(0)===65279?u.slice(1):u}(t),i=e.download?new W(e):new oe(e)):t.readable===!0&&p(t.read)&&p(t.on)?i=new fe(e):(v.File&&t instanceof File||t instanceof Object)&&(i=new ee(e)),i.stream(t)},unparse:function(t,e){var n=!1,r=!0,i=",",u=`\r
`,h='"',L=h+h,C=!1,o=null,x=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||d.BAD_DELIMITERS.filter(function(a){return e.delimiter.indexOf(a)!==-1}).length||(i=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(n=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(C=e.skipEmptyLines),typeof e.newline=="string"&&(u=e.newline),typeof e.quoteChar=="string"&&(h=e.quoteChar),typeof e.header=="boolean"&&(r=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");o=e.columns}e.escapeChar!==void 0&&(L=e.escapeChar+h),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(x=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var c=new RegExp(te(h),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return Q(null,t,C);if(typeof t[0]=="object")return Q(o||Object.keys(t[0]),t,C)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||o),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),Q(t.fields||[],t.data||[],C);throw new Error("Unable to serialize unrecognized input");function Q(a,b,F){var E="";typeof a=="string"&&(a=JSON.parse(a)),typeof b=="string"&&(b=JSON.parse(b));var S=Array.isArray(a)&&0<a.length,R=!Array.isArray(b[0]);if(S&&r){for(var T=0;T<a.length;T++)0<T&&(E+=i),E+=z(a[T],T);0<b.length&&(E+=u)}for(var l=0;l<b.length;l++){var f=S?a.length:b[l].length,k=!1,O=S?Object.keys(b[l]).length===0:b[l].length===0;if(F&&!S&&(k=F==="greedy"?b[l].join("").trim()==="":b[l].length===1&&b[l][0].length===0),F==="greedy"&&S){for(var m=[],P=0;P<f;P++){var I=R?a[P]:P;m.push(b[l][I])}k=m.join("").trim()===""}if(!k){for(var y=0;y<f;y++){0<y&&!O&&(E+=i);var V=S&&R?a[y]:y;E+=z(b[l][V],y)}l<b.length-1&&(!F||0<f&&!O)&&(E+=u)}}return E}function z(a,b){if(a==null)return"";if(a.constructor===Date)return JSON.stringify(a).slice(1,25);var F=!1;x&&typeof a=="string"&&x.test(a)&&(a="'"+a,F=!0);var E=a.toString().replace(c,L);return(F=F||n===!0||typeof n=="function"&&n(a,b)||Array.isArray(n)&&n[b]||function(S,R){for(var T=0;T<R.length;T++)if(-1<S.indexOf(R[T]))return!0;return!1}(E,d.BAD_DELIMITERS)||-1<E.indexOf(i)||E.charAt(0)===" "||E.charAt(E.length-1)===" ")?h+E+h:E}}};if(d.RECORD_SEP=String.fromCharCode(30),d.UNIT_SEP=String.fromCharCode(31),d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!ae&&!!v.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=pe,d.ParserHandle=be,d.NetworkStreamer=W,d.FileStreamer=ee,d.StringStreamer=oe,d.ReadableStreamStreamer=fe,v.jQuery){var M=v.jQuery;M.fn.parse=function(t){var e=t.config||{},n=[];return this.each(function(u){if(!(M(this).prop("tagName").toUpperCase()==="INPUT"&&M(this).attr("type").toLowerCase()==="file"&&v.FileReader)||!this.files||this.files.length===0)return!0;for(var h=0;h<this.files.length;h++)n.push({file:this.files[h],inputElem:this,instanceConfig:M.extend({},e)})}),r(),this;function r(){if(n.length!==0){var u,h,L,C,o=n[0];if(p(t.before)){var x=t.before(o.file,o.inputElem);if(typeof x=="object"){if(x.action==="abort")return u="AbortError",h=o.file,L=o.inputElem,C=x.reason,void(p(t.error)&&t.error({name:u},h,L,C));if(x.action==="skip")return void i();typeof x.config=="object"&&(o.instanceConfig=M.extend(o.instanceConfig,x.config))}else if(x==="skip")return void i()}var c=o.instanceConfig.complete;o.instanceConfig.complete=function(Q){p(c)&&c(Q,o.file,o.inputElem),i()},d.parse(o.file,o.instanceConfig)}else p(t.complete)&&t.complete()}function i(){n.splice(0,1),r()}}}function _(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var n=_e(e);n.chunkSize=parseInt(n.chunkSize),e.step||e.chunk||(n.chunkSize=null),this._handle=new be(n),(this._handle.streamer=this)._config=n}).call(this,t),this.parseChunk=function(e,n){if(this.isFirstChunk&&p(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);r!==void 0&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var u=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var h=u.meta.cursor;this._finished||(this._partialLine=i.substring(h-this._baseIndex),this._baseIndex=h),u&&u.data&&(this._rowCount+=u.data.length);var L=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(he)v.postMessage({results:u,workerId:d.WORKER_ID,finished:L});else if(p(this._config.chunk)&&!n){if(this._config.chunk(u,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);u=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(u.data),this._completeResults.errors=this._completeResults.errors.concat(u.errors),this._completeResults.meta=u.meta),this._completed||!L||!p(this._config.complete)||u&&u.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||u&&u.meta.paused||this._nextChunk(),u}this._halted=!0},this._sendError=function(e){p(this._config.error)?this._config.error(e):he&&this._config.error&&v.postMessage({workerId:d.WORKER_ID,error:e,finished:!1})}}function W(t){var e;(t=t||{}).chunkSize||(t.chunkSize=d.RemoteChunkSize),_.call(this,t),this._nextChunk=ae?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(n){this._input=n,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),ae||(e.onload=K(this._chunkLoaded,this),e.onerror=K(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!ae),this._config.downloadRequestHeaders){var n=this._config.downloadRequestHeaders;for(var r in n)e.setRequestHeader(r,n[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send(this._config.downloadRequestBody)}catch(u){this._chunkError(u.message)}ae&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(n){var r=n.getResponseHeader("Content-Range");return r===null?-1:parseInt(r.substring(r.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(n){var r=e.statusText||n;this._sendError(new Error(r))}}function ee(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=d.LocalChunkSize),_.call(this,t);var r=typeof FileReader<"u";this.stream=function(i){this._input=i,n=i.slice||i.webkitSlice||i.mozSlice,r?((e=new FileReader).onload=K(this._chunkLoaded,this),e.onerror=K(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var i=this._input;if(this._config.chunkSize){var u=Math.min(this._start+this._config.chunkSize,this._input.size);i=n.call(i,this._start,u)}var h=e.readAsText(i,this._config.encoding);r||this._chunkLoaded({target:{result:h}})},this._chunkLoaded=function(i){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(i.target.result)},this._chunkError=function(){this._sendError(e.error)}}function oe(t){var e;_.call(this,t=t||{}),this.stream=function(n){return e=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n,r=this._config.chunkSize;return r?(n=e.substring(0,r),e=e.substring(r)):(n=e,e=""),this._finished=!e,this.parseChunk(n)}}}function fe(t){_.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){_.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(i){this._input=i,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=K(function(i){try{e.push(typeof i=="string"?i:i.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(u){this._streamError(u)}},this),this._streamError=K(function(i){this._streamCleanUp(),this._sendError(i)},this),this._streamEnd=K(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function be(t){var e,n,r,i=Math.pow(2,53),u=-i,h=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,L=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,C=this,o=0,x=0,c=!1,Q=!1,z=[],a={data:[],errors:[],meta:{}};if(p(t.step)){var b=t.step;t.step=function(l){if(a=l,S())E();else{if(E(),a.data.length===0)return;o+=l.data.length,t.preview&&o>t.preview?n.abort():(a.data=a.data[0],b(a,C))}}}function F(l){return t.skipEmptyLines==="greedy"?l.join("").trim()==="":l.length===1&&l[0].length===0}function E(){return a&&r&&(T("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines&&(a.data=a.data.filter(function(l){return!F(l)})),S()&&function(){if(!a)return;function l(k,O){p(t.transformHeader)&&(k=t.transformHeader(k,O)),z.push(k)}if(Array.isArray(a.data[0])){for(var f=0;S()&&f<a.data.length;f++)a.data[f].forEach(l);a.data.splice(0,1)}else a.data.forEach(l)}(),function(){if(!a||!t.header&&!t.dynamicTyping&&!t.transform)return a;function l(k,O){var m,P=t.header?{}:[];for(m=0;m<k.length;m++){var I=m,y=k[m];t.header&&(I=m>=z.length?"__parsed_extra":z[m]),t.transform&&(y=t.transform(y,I)),y=R(I,y),I==="__parsed_extra"?(P[I]=P[I]||[],P[I].push(y)):P[I]=y}return t.header&&(m>z.length?T("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+m,x+O):m<z.length&&T("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+m,x+O)),P}var f=1;return!a.data.length||Array.isArray(a.data[0])?(a.data=a.data.map(l),f=a.data.length):a.data=l(a.data,0),t.header&&a.meta&&(a.meta.fields=z),x+=f,a}()}function S(){return t.header&&z.length===0}function R(l,f){return k=l,t.dynamicTypingFunction&&t.dynamicTyping[k]===void 0&&(t.dynamicTyping[k]=t.dynamicTypingFunction(k)),(t.dynamicTyping[k]||t.dynamicTyping)===!0?f==="true"||f==="TRUE"||f!=="false"&&f!=="FALSE"&&(function(O){if(h.test(O)){var m=parseFloat(O);if(u<m&&m<i)return!0}return!1}(f)?parseFloat(f):L.test(f)?new Date(f):f===""?null:f):f;var k}function T(l,f,k,O){var m={type:l,code:f,message:k};O!==void 0&&(m.row=O),a.errors.push(m)}this.parse=function(l,f,k){var O=t.quoteChar||'"';if(t.newline||(t.newline=function(I,y){I=I.substring(0,1048576);var V=new RegExp(te(y)+"([^]*?)"+te(y),"gm"),q=(I=I.replace(V,"")).split("\r"),J=I.split(`
`),G=1<J.length&&J[0].length<q[0].length;if(q.length===1||G)return`
`;for(var j=0,w=0;w<q.length;w++)q[w][0]===`
`&&j++;return j>=q.length/2?`\r
`:"\r"}(l,O)),r=!1,t.delimiter)p(t.delimiter)&&(t.delimiter=t.delimiter(l),a.meta.delimiter=t.delimiter);else{var m=function(I,y,V,q,J){var G,j,w,D;J=J||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var le=0;le<J.length;le++){var g=J[le],ge=0,X=0,ue=0;w=void 0;for(var ne=new pe({comments:q,delimiter:g,newline:y,preview:10}).parse(I),re=0;re<ne.data.length;re++)if(V&&F(ne.data[re]))ue++;else{var se=ne.data[re].length;X+=se,w!==void 0?0<se&&(ge+=Math.abs(se-w),w=se):w=se}0<ne.data.length&&(X/=ne.data.length-ue),(j===void 0||ge<=j)&&(D===void 0||D<X)&&1.99<X&&(j=ge,G=g,D=X)}return{successful:!!(t.delimiter=G),bestDelimiter:G}}(l,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);m.successful?t.delimiter=m.bestDelimiter:(r=!0,t.delimiter=d.DefaultDelimiter),a.meta.delimiter=t.delimiter}var P=_e(t);return t.preview&&t.header&&P.preview++,e=l,n=new pe(P),a=n.parse(e,f,k),E(),c?{meta:{paused:!0}}:a||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,n.abort(),e=p(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){C.streamer._halted?(c=!1,C.streamer.parseChunk(e,!0)):setTimeout(C.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,n.abort(),a.meta.aborted=!0,p(t.complete)&&t.complete(a),e=""}}function te(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pe(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,u=t.step,h=t.preview,L=t.fastMode,C=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(C=t.escapeChar),(typeof n!="string"||-1<d.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");i===!0?i="#":(typeof i!="string"||-1<d.BAD_DELIMITERS.indexOf(i))&&(i=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var o=0,x=!1;this.parse=function(c,Q,z){if(typeof c!="string")throw new Error("Input must be a string");var a=c.length,b=n.length,F=r.length,E=i.length,S=p(u),R=[],T=[],l=[],f=o=0;if(!c)return U();if(t.header&&!Q){var k=c.split(r)[0].split(n),O=[],m={},P=!1;for(var I in k){var y=k[I];p(t.transformHeader)&&(y=t.transformHeader(y,I));var V=y,q=m[y]||0;for(0<q&&(P=!0,V=y+"_"+q),m[y]=q+1;O.includes(V);)V=V+"_"+q;O.push(V)}if(P){var J=c.split(r);J[0]=O.join(n),c=J.join(r)}}if(L||L!==!1&&c.indexOf(e)===-1){for(var G=c.split(r),j=0;j<G.length;j++){if(l=G[j],o+=l.length,j!==G.length-1)o+=r.length;else if(z)return U();if(!i||l.substring(0,E)!==i){if(S){if(R=[],ue(l.split(n)),Ce(),x)return U()}else ue(l.split(n));if(h&&h<=j)return R=R.slice(0,h),U(!0)}}return U()}for(var w=c.indexOf(n,o),D=c.indexOf(r,o),le=new RegExp(te(C)+te(e),"g"),g=c.indexOf(e,o);;)if(c[o]!==e)if(i&&l.length===0&&c.substring(o,o+E)===i){if(D===-1)return U();o=D+F,D=c.indexOf(r,o),w=c.indexOf(n,o)}else if(w!==-1&&(w<D||D===-1))l.push(c.substring(o,w)),o=w+b,w=c.indexOf(n,o);else{if(D===-1)break;if(l.push(c.substring(o,D)),se(D+F),S&&(Ce(),x))return U();if(h&&R.length>=h)return U(!0)}else for(g=o,o++;;){if((g=c.indexOf(e,g+1))===-1)return z||T.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:o}),re();if(g===a-1)return re(c.substring(o,g).replace(le,e));if(e!==C||c[g+1]!==C){if(e===C||g===0||c[g-1]!==C){w!==-1&&w<g+1&&(w=c.indexOf(n,g+1)),D!==-1&&D<g+1&&(D=c.indexOf(r,g+1));var ge=ne(D===-1?w:Math.min(w,D));if(c.substr(g+1+ge,b)===n){l.push(c.substring(o,g).replace(le,e)),c[o=g+1+ge+b]!==e&&(g=c.indexOf(e,o)),w=c.indexOf(n,o),D=c.indexOf(r,o);break}var X=ne(D);if(c.substring(g+1+X,g+1+X+F)===r){if(l.push(c.substring(o,g).replace(le,e)),se(g+1+X+F),w=c.indexOf(n,o),g=c.indexOf(e,o),S&&(Ce(),x))return U();if(h&&R.length>=h)return U(!0);break}T.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:o}),g++}}else g++}return re();function ue(N){R.push(N),f=o}function ne(N){var Te=0;if(N!==-1){var Ie=c.substring(g+1,N);Ie&&Ie.trim()===""&&(Te=Ie.length)}return Te}function re(N){return z||(N===void 0&&(N=c.substring(o)),l.push(N),o=a,ue(l),S&&Ce()),U()}function se(N){o=N,ue(l),l=[],D=c.indexOf(r,o)}function U(N){return{data:R,errors:T,meta:{delimiter:n,linebreak:r,aborted:x,truncated:!!N,cursor:f+(Q||0)}}}function Ce(){u(U()),R=[],T=[]}},this.abort=function(){x=!0},this.getCharIndex=function(){return o}}function xe(t){var e=t.data,n=$[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,ke(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:we,resume:we};if(p(n.userStep)){for(var u=0;u<e.results.data.length&&(n.userStep({data:e.results.data[u],errors:e.results.errors,meta:e.results.meta},i),!r);u++);delete e.results}else p(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&ke(e.workerId,e.results)}function ke(t,e){var n=$[t];p(n.userComplete)&&n.userComplete(e),n.terminate(),delete $[t]}function we(){throw new Error("Not implemented.")}function _e(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=_e(t[n]);return e}function K(t,e){return function(){t.apply(e,arguments)}}function p(t){return typeof t=="function"}return he&&(v.onmessage=function(t){var e=t.data;if(d.WORKER_ID===void 0&&e&&(d.WORKER_ID=e.workerId),typeof e.input=="string")v.postMessage({workerId:d.WORKER_ID,results:d.parse(e.input,e.config),finished:!0});else if(v.File&&e.input instanceof File||e.input instanceof Object){var n=d.parse(e.input,e.config);n&&v.postMessage({workerId:d.WORKER_ID,results:n,finished:!0})}}),(W.prototype=Object.create(_.prototype)).constructor=W,(ee.prototype=Object.create(_.prototype)).constructor=ee,(oe.prototype=Object.create(oe.prototype)).constructor=oe,(fe.prototype=Object.create(_.prototype)).constructor=fe,d})})(ze);var He=ze.exports;const Oe=Be(He);const We={key:0,class:"text-center"},Ke=s("div",{class:"spinner-border text-secondary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),Qe=[Ke],Ve={key:1,class:"container"},$e=s("h1",{class:"text-center"},"Plan Anual de Investigaciones 2023 217",-1),Je={class:"mb-2 d-flex justify-content-center"},Ge={class:"input-group me-2",style:{"max-width":"320px"}},Xe=s("i",{class:"fas fa-times"},null,-1),Ye=[Xe],Ze={class:"text-center my-2"},et={class:"text-primary"},tt={class:"text-center my-2"},nt={class:"text-primary"},rt={class:"d-flex mb-2 justify-content-center"},st={class:""},it=["onClick","title"],at={class:"table bg-white"},ot=s("thead",null,[s("tr",null,[s("th",null,"Núm"),s("th",{class:"only-lg"},"Solicitante"),s("th",null,"Investigación")])],-1),lt={class:"text-center"},ut={class:"only-lg"},ct=s("br",null,null,-1),dt=["onClick"],ht=s("br",null,null,-1),ft={class:"only-lg"},pt={class:"progress d-none",style:{height:"2px"}},_t=s("i",{class:"fa-solid fa-arrow-left"},null,-1),gt={class:"center_box_800"},vt={class:"progress mb-2"},mt={class:"ficha shadow mb-3"},yt={class:"ficha-header d-flex justify-content-between"},bt={style:{"border-left":"3em solid #ffb80c","margin-left":"3em"},class:"p-2"},kt=s("img",{class:"logo-orfeo",src:je,alt:"Logo Orfeo"},null,-1),wt=s("strong",null,"Orfeo",-1),Ct=s("br",null,null,-1),Et={title:"Expediente documental en Orfeo"},xt=s("div",{class:"p-2 only-lg"},[s("img",{class:"logo-dogcc",src:Ue,alt:"Logo Observatorio de Cultura"})],-1),It={class:"ficha-body"},Dt={class:"row"},Ot={class:"col-md-6"},Rt={class:"title"},Tt={class:"col-md-6"},At={key:0},Lt={width:"65px",class:"text-center"},St=["title"],zt=["href"],Ft=["innerHTML"],Pt=["href"],Mt=s("br",null,null,-1),qt=s("td",null,null,-1),jt={key:0,class:"center_box_800"},Ut=s("h3",{class:"text-center"},"Datos clave",-1),Nt=s("p",{class:"text-center"},"Hallazgos destacados como resultado de la investigación",-1),Bt={class:"table bg-white"},Ht={class:"hallazgo-number"},Wt="1mTpRd2lgxaY_FJj9XDcXHfMHEOfg2c6rxmUE-zR68WA",Qt={__name:"Investigaciones",setup(Z){const Re=Fe(),de=Pe();let v=0;const ae={investigaciones:"1186279524",productos:"1226549997",hallazgos:"987529212"},he=ce(!0),$=ce([]),ye=ce([]),d=ce([]),M=ce("table"),_=ce({ID:-1,Código:"-",Título:"-",Descripción:"-"}),W=ce({q:"",entidad:""}),ee=e=>"https://docs.google.com/spreadsheets/d/"+Wt+"/export?format=csv&gid="+ae[e],oe=()=>{Oe.parse(ee("investigaciones"),{download:!0,header:!0,complete:e=>{$.value=e.data}})},fe=()=>{Oe.parse(ee("productos"),{download:!0,header:!0,complete:e=>{ye.value=e.data}})},be=()=>{Oe.parse(ee("hallazgos"),{download:!0,header:!0,complete:e=>{d.value=e.data,he.value=!1,de.params.id>0&&pe()}})},te=e=>{v=e;const n={...de.params,id:v};Re.push({name:de.name,params:n}),pe()},pe=()=>{console.log(v),_.value=$.value.find(e=>e.ID==v),M.value="details"},xe=()=>{M.value="table"},ke=()=>{M.value="table"},we=e=>{let n=[];return n["Informe final"]="fa-solid fa-file-lines producto-pdf",n["Informe cuantitativo"]="fa-solid fa-file-lines producto-cuantitativo",n["Base de datos"]="fa-solid fa-table producto-db",n.Presentación="fa-solid fa-display producto-presentacion",n.Anexo="fa-solid fa-file producto-general",n["Visualización/Infografía"]="fa-solid fa-chart-simple producto-dataviz",n.Audiovisual="fa-solid fa-circle-play producto-audiovisual",'<i class="'+n[e]+'"></i>'},_e=e=>{let n="status-nd";return e.Estado=="Sin iniciar"&&(n="status-sin-iniciar"),e.Estado=="En espera"&&(n="status-en-espera"),e.Estado=="En ejecución"&&(n="status-en-ejecucion"),e.Estado=="Finalizada"&&(n="status-finalizada"),e.ID==_.value.ID&&(n+=" active"),n},K=De(()=>$.value.filter(n=>{const r=n.Código.toLowerCase().includes(W.value.q.toLowerCase()),i=n.Título.toLowerCase().includes(W.value.q.toLowerCase()),u=n.Descripción.toLowerCase().includes(W.value.q.toLowerCase());return r||i||u})),p=De(()=>ye.value.filter(n=>n["ID Investigación"]==_.value.ID&&n.Orden>0)),t=De(()=>d.value.filter(n=>n["ID Investigación"]==_.value.ID));return Me(()=>{oe(),fe(),be()}),(e,n)=>he.value?(B(),H("div",We,Qe)):(B(),H("div",Ve,[$e,s("div",Je,[s("div",Ge,[Y(s("input",{type:"text",name:"q","onUpdate:modelValue":n[0]||(n[0]=r=>W.value.q=r),class:"form-control",placeholder:"Buscar",autofocus:"",onChange:ke},null,544),[[qe,W.value.q]])]),s("button",{class:"btn-delete-search",type:"button",onClick:n[1]||(n[1]=r=>W.value.q="")},Ye)]),Y(s("div",Ze,[s("span",et,A(K.value.length),1),ve(" de "+A($.value.length),1)],512),[[ie,M.value=="table"]]),Y(s("div",tt,[ve(" ID Investigación · "),s("strong",nt,A(_.value.ID),1)],512),[[ie,M.value=="details"]]),s("div",rt,[s("div",st,[(B(!0),H(me,null,Ee($.value,(r,i)=>(B(),H("button",{type:"button",class:Se(["investigacion-sqr me-1",_e(r)]),key:i,onClick:u=>te(r.ID),title:r.Código},null,10,it))),128))])]),Y(s("table",at,[ot,s("tbody",null,[(B(!0),H(me,null,Ee(K.value,(r,i)=>(B(),H("tr",{key:i},[s("td",lt,A(r.ID),1),s("td",ut,[ve(A(r.ENTIDAD)+" ",1),ct,ve(" "+A(r["Dirección/Dependencia"]),1)]),s("td",null,[s("a",{type:"button",class:"investigacion-title",onClick:u=>te(r.ID)},A(r.Código),9,dt),ht,s("span",{class:Se(["badge",_e(r)])},A(r.Estado),3),s("p",ft,A(r["Objetivo de la investigación"]),1),s("div",pt,[s("div",{class:"progress-bar",role:"progressbar",style:Ae("width: "+r["Porcentaje de avance"]),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),128))])],512),[[ie,M.value=="table"]]),Y(s("div",null,[s("button",{type:"button",class:"btn btn-light mb-2",onClick:xe},[_t,ve(" Tabla ")]),s("div",gt,[s("div",vt,[s("div",{class:"progress-bar",role:"progressbar",style:Ae("width: "+_.value["Porcentaje de avance"]),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},A(_.value["Porcentaje de avance"]),5)])]),s("div",mt,[s("div",yt,[s("div",bt,[kt,wt,Ct,s("span",Et,A(_.value.EXPEDIENTE),1)]),xt]),s("div",It,[s("div",Dt,[s("div",Ot,[s("h3",Rt,[Y(s("span",null,A(_.value.Código),513),[[ie,_.value.Título.length==0]]),Y(s("span",null,A(_.value.Título),513),[[ie,_.value.Título.length>0]])]),Y(s("p",null,A(_.value["Objetivo de la investigación"]),513),[[ie,_.value.Descripción.length==0]]),Y(s("p",null,A(_.value.Descripción),513),[[ie,_.value.Descripción.length>0]])]),s("div",Tt,[s("table",null,[s("tbody",null,[(B(!0),H(me,null,Ee(p.value,(r,i)=>(B(),H(me,{key:i},[_.value.ID==r["ID Investigación"]?(B(),H("tr",At,[s("td",Lt,[s("div",{class:"icon-container",title:r["Tipo producto"]},[s("a",{href:r["Link para ficha"],target:"_blank"},[s("span",{innerHTML:we(r["Tipo producto"])},null,8,Ft)],8,zt)],8,St)]),s("td",null,[s("a",{href:r["Link para ficha"],target:"_blank"},A(r.Título),9,Pt),Mt]),qt])):Le("",!0)],64))),128))])])])])])]),t.value.length>0?(B(),H("div",jt,[Ut,Nt,s("table",Bt,[s("tbody",null,[(B(!0),H(me,null,Ee(t.value,(r,i)=>(B(),H("tr",{key:i},[s("td",Ht,A(i+1),1),s("td",null,A(r["Texto hallazgo"]),1)]))),128))])])])):Le("",!0)],512),[[ie,M.value=="details"]])]))}};export{Qt as default};
